# 队员详情查看功能 - 设计方案

## 📋 需求概述
在Leaderboard中点击队员名字/行时，弹出视图显示该队员每天的跑步记录情况。

---

## 🎨 方案一：模态框弹窗（Modal）- 推荐 ⭐

### 设计特点
- **触发方式**: 点击整行（`<tr>`）或队员名字
- **显示方式**: 居中模态框，背景半透明遮罩
- **布局**: 卡片式设计，包含周视图和每日详情

### UI结构
```
┌─────────────────────────────────────┐
│  [X] 队员详情 - Vicky                │
├─────────────────────────────────────┤
│  📅 W1 (12/15-12/21)                │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 周一 Mon  12/15  │  5.2 km  │   │
│  │ 周二 Tue  12/16  │  3.8 km  │   │
│  │ 周三 Wed  12/17  │  0 km    │   │
│  │ 周四 Thu  12/18  │  7.5 km  │   │
│  │ 周五 Fri  12/19  │  4.2 km  │   │
│  │ 周六 Sat  12/20  │  6.0 km  │   │
│  │ 周日 Sun  12/21  │  5.5 km  │   │
│  └─────────────────────────────┘   │
│                                     │
│  本周总计: 36.2 km                  │
│  连击奖励: ✅ (5天以上)             │
│  最终距离: 43.4 km (1.2x)           │
└─────────────────────────────────────┘
```

### 优点
- ✅ 不遮挡其他内容
- ✅ 可以显示完整信息
- ✅ 用户体验好（ESC关闭、点击遮罩关闭）
- ✅ 移动端友好

### 缺点
- ⚠️ 需要额外的状态管理
- ⚠️ 需要处理滚动锁定

---

## 🎨 方案二：侧边滑出面板（Slide-out Panel）

### 设计特点
- **触发方式**: 点击整行
- **显示方式**: 从右侧滑出，覆盖部分内容
- **布局**: 侧边栏式，固定宽度

### UI结构
```
┌─────────────┬──────────────────────┐
│ Leaderboard │  ▶ 队员详情           │
│             │  ┌──────────────────┐ │
│  Rank Name  │  │ Vicky            │ │
│  1   Vicky  │  │ W1 (12/15-12/21) │ │
│  2   Linna  │  │                  │ │
│  3   Yu     │  │ Mon  12/15  5.2  │ │
│             │  │ Tue  12/16  3.8  │ │
│             │  │ Wed  12/17  0   │ │
│             │  │ ...              │ │
│             │  │                  │ │
│             │  │ 总计: 36.2 km    │ │
│             │  └──────────────────┘ │
└─────────────┴──────────────────────┘
```

### 优点
- ✅ 不遮挡排行榜（左侧仍可见）
- ✅ 动画流畅
- ✅ 适合桌面端

### 缺点
- ⚠️ 移动端可能太窄
- ⚠️ 需要处理响应式布局

---

## 🎨 方案三：行内展开（Inline Expand）

### 设计特点
- **触发方式**: 点击行右侧的展开图标
- **显示方式**: 在当前行下方展开详情行
- **布局**: 表格行扩展，显示每日数据

### UI结构
```
┌─────────────────────────────────────┐
│ Rank │ Name  │ Distance │ [▼]      │
├─────────────────────────────────────┤
│  1   │ Vicky │ 43.4 km  │ [▼]      │ ← 点击
├─────────────────────────────────────┤
│      │ 📅 W1 (12/15-12/21)          │
│      │ Mon: 5.2 │ Tue: 3.8 │ ...   │
│      │ 总计: 36.2 km (1.2x = 43.4) │
├─────────────────────────────────────┤
│  2   │ Linna │ 38.5 km  │ [▼]      │
└─────────────────────────────────────┘
```

### 优点
- ✅ 不需要额外弹窗
- ✅ 可以同时展开多个
- ✅ 紧凑的布局

### 缺点
- ⚠️ 表格会变长，需要滚动
- ⚠️ 移动端可能显示不全

---

## 🎨 方案四：底部抽屉（Bottom Sheet）- 移动端友好

### 设计特点
- **触发方式**: 点击整行
- **显示方式**: 从底部向上滑出
- **布局**: 移动端优先设计

### UI结构
```
┌─────────────────────────────────────┐
│         Leaderboard                  │
│  ┌─────────────────────────────┐    │
│  │ 1. Vicky    43.4 km         │    │
│  │ 2. Linna    38.5 km         │    │
│  └─────────────────────────────┘    │
│                                      │
│  ════════════════════════════════   │ ← 向上滑出
│  ┌─────────────────────────────┐    │
│  │ Vicky - W1 (12/15-12/21)    │    │
│  │                             │    │
│  │ Mon  12/15    5.2 km       │    │
│  │ Tue  12/16    3.8 km       │    │
│  │ ...                          │    │
│  │                             │    │
│  │ 总计: 36.2 km               │    │
│  └─────────────────────────────┘    │
└─────────────────────────────────────┘
```

### 优点
- ✅ 移动端体验最佳
- ✅ 符合移动端交互习惯
- ✅ 可以显示完整信息

### 缺点
- ⚠️ 桌面端可能不够优雅
- ⚠️ 需要处理手势滑动

---

## 🎨 方案五：工具提示增强版（Tooltip+）

### 设计特点
- **触发方式**: 悬停或点击
- **显示方式**: 跟随鼠标/点击位置的浮动卡片
- **布局**: 紧凑的卡片式设计

### UI结构
```
点击位置附近显示：
┌─────────────────────┐
│ Vicky               │
│ W1 (12/15-12/21)    │
│                     │
│ Mon: 5.2  Tue: 3.8  │
│ Wed: 0    Thu: 7.5  │
│ Fri: 4.2  Sat: 6.0  │
│ Sun: 5.5            │
│                     │
│ 总计: 36.2 km       │
└─────────────────────┘
```

### 优点
- ✅ 轻量级，不占用太多空间
- ✅ 快速查看

### 缺点
- ⚠️ 信息可能显示不全
- ⚠️ 移动端体验不佳

---

## 📊 方案对比表

| 方案 | 桌面端体验 | 移动端体验 | 实现复杂度 | 信息完整度 | 推荐度 |
|------|-----------|-----------|----------|-----------|--------|
| 方案一：模态框 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| 方案二：侧边面板 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| 方案三：行内展开 | ⭐⭐⭐ | ⭐⭐ | ⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐ |
| 方案四：底部抽屉 | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| 方案五：工具提示 | ⭐⭐⭐ | ⭐⭐ | ⭐ | ⭐⭐ | ⭐⭐ |

---

## 💡 推荐方案：方案一（模态框）

### 推荐理由
1. **最佳用户体验**: 不遮挡其他内容，可以显示完整信息
2. **跨平台友好**: 桌面端和移动端都表现良好
3. **易于实现**: 可以复用现有的UploadModal组件结构
4. **扩展性强**: 未来可以添加更多功能（历史周数据、图表等）

### 实现要点
1. **数据存储**: 修改`RunnerData`接口，添加`dailyRecords?: Record<string, number>`字段
2. **数据提取**: 修改`analyzeRow`函数，提取每日数据
3. **组件创建**: 创建`RunnerDetailModal`组件
4. **交互**: 在Leaderboard的`<tr>`上添加`onClick`事件

---

## 🎯 下一步

请选择你喜欢的方案，我会根据你的选择实现相应的功能！

**我的建议**: 方案一（模态框）或方案四（底部抽屉，如果主要用户是移动端）

